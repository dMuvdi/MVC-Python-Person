{% extends "base.html" %}

{% block page_content %}

{% with messages = get_flashed_messages() %}  
         {% if messages %}  
                {% for message in messages %}  
                <div class="alert alert-warning alert-dismissible">
                    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                    {{ message }}
                </div>
               {% endfor %}  
         {% endif %}  
      {% endwith %}


<div class="page-header">
    <h1>Person Form</h1>
    <p>Enter your First Name and Last Name:   </p>
        <br>
            <form action="/person_detail" method="post" name="myForm" onsubmit="return validateForm()">
                <input type="hidden" id="op" name="op" value="I">
                <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroup_id">ID</span>
                    <input type="text" class="form-control" name="id_person" aria-label="Sizing example input" aria-describedby="inputGroup_idt">
                </div>

                <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroup_name">First name</span>
                    <input type="text" class="form-control" name="first_name" aria-label="Sizing example input" aria-describedby="inputGroup_name">
                </div>

                <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroup_lastName">Last Name</span>
                    <input type="text" class="form-control" name="last_name" aria-label="Sizing example input" aria-describedby="inputGroup_lastName">
                </div>
                <br >
                <input class="btn btn-primary" type="submit" name="form" value="Submit" />
                <script>
                    function validateForm() {
                        var x = document.forms["myForm"]["first_name"].value;
                        var x2 = document.forms["myForm"]["last_name"].value;
                        var x3 = document.forms["myForm"]["id_person"].value;
                        if (x == "" || x2 == "" || x3 == "") {
                            alert("There are missing fields");
                            return false;
                        }
                    }
                </script>
            </form>
</div>
{% endblock %}